{
  "hash": "de130dbeb0b0cd4d961ddd2cf657da35",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Large Language Models in Practice\"\njupyter: applsoftcomp\nexecute:\n    enabled: true\n    cache: true\n---\n\n::: {.callout-note appearance=\"minimal\"}\n## Spoiler\nLarge language models don't understand languageâ€”they compress statistical regularities from billions of text samples into probability distributions that generate fluent outputs correlated with truth but not guaranteed to be true.\n:::\n\n## The Naive Model vs. The Reality\n\nIf a machine writes coherent essays, debugs code, and answers questions accurately, it must understand language the way humans do. This intuition traces to Turing's 1950 test: if you can't tell it's a machine, treat it as intelligent. The assumption is that fluency requires comprehension.\n\nELIZA, a 1960s chatbot, shattered this assumption. It convinced users it was a therapist using only keyword substitution and reflectionâ€”no comprehension, just pattern matching. Large language models are ELIZA scaled by thirteen orders of magnitude. They predict which word comes next in a sequence, nothing more. Yet this simple objective forces them to encode grammar, facts, logic, and contextâ€”not because they understand, but because **prediction requires compression of statistical regularities.** The model that best predicts \"The capital of France is ___\" must have compressed the statistical pattern linking countries to capitals, whether or not it \"knows\" what a capital is.\n\nThe paradox: optimizing for prediction creates representations that look like understanding. But probe the extremesâ€”ask about events after the training cutoff, request precise citations, demand genuine reasoningâ€”and the illusion breaks. The model follows fluency where truth data is sparse.\n\n## The Hidden Mechanism\n\nImagine you want to predict lottery numbers but can't compute true probabilities. You memorize millions of historical draws. When asked \"What comes next?\", you recall similar past sequences and output the most common continuation. You're not computing probabilities; you're pattern matching against compressed memory. This is the toy model for how LLMs work.\n\nLLMs function like lossy compression algorithms. To predict \"The capital of France is ___,\" the model must compress not just the fact (Paris) but the **statistical regularities** governing how facts appear in textâ€”that capitals follow \"The capital of,\" that France is a country, that countries have capitals. This compression is probabilistic, not factual. The model stores $P(\\text{word}_{n+1} \\mid \\text{word}_1, \\ldots, \\text{word}_n)$, which words tend to follow which other words in which contexts.\n\n![](../figs/llm-next-word.gif){width=50% fig-alt=\"A GIF showing how LLMs predict the next word by estimating probability distributions over the vocabulary.\" fig-align=\"center\"}\n\nTraining feeds the model billions of sentences. For each sentence, the model predicts the next word, compares its prediction to the actual next word, and adjusts its parameters to increase the probability of the correct word. Repeat trillions of times. The result: a compressed representation of how language behaves statistically. The model doesn't learn \"Paris is the capital of France\" as a fact; it learns that in contexts matching the pattern `[The capital of France is]`, the token \"Paris\" appears with high probability.\n\nThis optimization creates **hallucination**, fluent but false outputs. The model optimizes for probability, not truth. If it has seen 1,000 sentences about quantum networks and 10 about quantum community detection, it fabricates plausible results for a non-existent \"Smith et al. paper\" because that pattern fits academic writing. Truth and fluency correlate in the training data, so the model is mostly truthful. But in the tailsâ€”obscure topics, recent events, precise recallâ€”fluency diverges from truth, and the model follows fluency.\n\nTwo constraints compound this issue. First, **context limits**: models see only 2,000â€“8,000 tokens at once, meaning that if you paste 100 abstracts, early ones are mathematically evicted from the model's working memory. Second, **stochasticity**: the model samples from probability distributions, so the same prompt yields different outputs across runs. Fluency is deterministic; specifics are random.\n\n## The Strategic Application\n\nUse LLMs to scale pattern recognition, not judgment. They excel where speed trumps precision: summarizing 50 abstracts to identify the 10 worth reading, extracting structured data from unstructured text, reformulating technical concepts, brainstorming research directions. They fail where precision is paramountâ€”verifying citations, making ethical decisions, performing statistical analysis. Think of an LLM as an assistant who has read the internet but remembers imperfectly. You delegate skimming. You verify everything.\n\nThe events that matter live in the tail. Most outputs are fluent and useful. But the hallucinated citation that undermines credibility, the missed context that skews analysisâ€”these failures cluster in the tails of the probability distribution. Harvest the center. Defend against the extremes.\n\n## Setting Up Ollama\n\nFor this course, we use Ollama, a tool for running LLMs locally, with Gemma 3N, a 4-billion parameter open-source model. Free, private, capable enough for research tasks. Visit [ollama.ai](https://ollama.ai), download the installer, and verify installation:\n\n```bash\nollama --version\nollama pull gemma3n:latest\nollama run gemma3n:latest \"What is a complex system?\"\n```\n\nIf you receive a coherent response, install the Python client and send your first prompt:\n\n```bash\npip install ollama\n```\n\n::: {#5feb3b69 .cell execution_count=2}\n``` {.python .cell-code}\nimport ollama\n\nparams_llm = {\"model\": \"gemma3n:latest\", \"options\": {\"temperature\": 0.3}}\n\nresponse = ollama.generate(\n    prompt=\"Explain emergence in two sentences.\",\n    **params_llm\n)\n\nprint(response.response)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nEmergence is when complex patterns and behaviors arise from simpler interactions within a system, where these patterns aren't explicitly programmed into the individual components.  Essentially, the whole becomes greater than the sum of its parts, exhibiting novel properties that couldn't be predicted just by looking at the individual elements.\n\n\n\n\n```\n:::\n:::\n\n\nRunning this twice produces different outputs because LLMs sample from probability distributions. The **temperature** parameter controls this randomnessâ€”lower values (0.1) make outputs more deterministic; higher values (1.0) increase diversity. You're controlling how far into the tail of the probability distribution the model samples.\n\n## Research Applications\n\nThe strategy is simple: use LLMs for tasks where speed trumps precision, then verify the outputs that matter. Three workflows demonstrate this pattern.\n\nFirst, abstract summarization. You collected 50 papers on network science. Which deserve detailed reading? LLMs scan them in seconds:\n\n::: {#13d920d5 .cell execution_count=3}\n``` {.python .cell-code}\nabstract = \"\"\"\nCommunity detection in networks is a fundamental problem in complex systems.\nWhile many algorithms exist, most assume static networks. We propose a dynamic\ncommunity detection algorithm that tracks evolving communities over time using\na temporal smoothness constraint. We evaluate our method on synthetic and real\ntemporal networks, showing it outperforms static methods applied to temporal\nsnapshots. Our approach reveals how communities merge, split, and persist in\nsocial networks, biological systems, and transportation networks.\n\"\"\"\n\nprompt = f\"Summarize this abstract in one sentence:\\n\\n{abstract}\"\nresponse = ollama.generate(prompt=prompt, **params_llm)\nprint(response.response)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nThis paper introduces a novel dynamic community detection algorithm that effectively tracks evolving communities in networks over time, outperforming static methods and revealing community dynamics in various real-world systems.\n\n\n\n\n```\n:::\n:::\n\n\nThe model captures the pattern: propose method, evaluate, outperform baselines. It doesn't understand the paper; it has seen enough academic abstracts to recognize the structure. For multiple abstracts, loop through them:\n\n::: {#5175512d .cell execution_count=4}\n``` {.python .cell-code}\nfor i, abstract in enumerate([\"Abstract 1...\", \"Abstract 2...\"], 1):\n    response = ollama.generate(prompt=f\"Summarize:\\n\\n{abstract}\", **params_llm)\n    print(f\"{i}. {response.response}\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1. Please provide me with \"Abstract 1\"! I need the text of the abstract to be able to summarize it for you. \n\nJust paste the abstract here, and I'll give you a concise summary. ðŸ˜Š \n\nI'm ready when you are!\n2. Please provide me with the content of \"Abstract 2\"! I need the text of the abstract to be able to summarize it for you. \n\nJust paste the abstract here, and I'll do my best to give you a concise and accurate summary. ðŸ˜Š \n\n\n```\n:::\n:::\n\n\nLocal models are slow (2â€“5 seconds per abstract). For thousands of papers, switch to cloud APIs. But the workflow scales: delegate skimming to the model, retain judgment for yourself.\n\nSecond, structured extraction. Turn unstructured text into structured data automatically:\n\n::: {#f67468fa .cell execution_count=5}\n``` {.python .cell-code}\nabstract = \"\"\"\nWe analyze scientific collaboration networks using 5 million papers from\n2000-2020. Using graph neural networks and community detection, we identify\ndisciplinary boundaries and interdisciplinary bridges. Interdisciplinarity\nincreased 25%, with physics and CS showing strongest cross-connections.\n\"\"\"\n\nprompt = f\"\"\"Extract: Domain, Methods, Key Finding\\n\\n{abstract}\\n\\nFormat:\\nDomain:...\\nMethods:...\\nKey Finding:...\"\"\"\nresponse = ollama.generate(prompt=prompt, **params_llm)\nprint(response.response)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nHere's the extraction in the requested format:\n\nDomain: Scientific Collaboration Networks\nMethods: Graph Neural Networks, Community Detection, Analysis of 5 million papers (2000-2020)\nKey Finding: Interdisciplinarity increased by 25% between 2000-2020, with the strongest cross-connections observed between Physics and Computer Science.\n\n\n\n\n```\n:::\n:::\n\n\nScale this to hundreds of papers for meta-analysis. Always verifyâ€”LLMs misinterpret obscure terminology and fabricate plausible-sounding technical details when uncertain.\n\nThird, hypothesis generation. LLMs pattern-match against research questions they've encountered in training data:\n\n::: {#d7e31d2f .cell execution_count=6}\n``` {.python .cell-code}\ncontext = \"\"\"I study concept spread in citation networks. Highly cited papers\ncombine existing concepts novelty. What should I study next?\"\"\"\n\nprompt = f\"\"\"Suggest three follow-up research questions:\\n\\n{context}\"\"\"\nresponse = ollama.generate(prompt=prompt, **params_llm)\nprint(response.response)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nOkay, here are three follow-up research questions, building upon your current work on concept spread in citation networks, focusing on highly cited papers and the interplay of existing concepts and novelty.  I've tried to offer a mix of methodological and theoretical directions:\n\n**1.  How does the *type* of novelty (e.g., incremental, radical, convergent) in highly cited papers influence the rate and direction of concept spread?**\n\n*   **Rationale:** You've identified that highly cited papers combine existing concepts with novelty.  However, the *nature* of that novelty likely matters.  Is it a small tweak to an existing idea (incremental), a completely new paradigm (radical), or a synthesis of multiple existing ideas (convergent)?  Different types of novelty might spread differently through the citation network.\n*   **Methodology:**\n    *   **Concept Extraction:**  Develop a method (potentially combining NLP and manual annotation) to categorize the type of novelty present in highly cited papers.  This could involve identifying keywords, phrases, and arguments that signal incremental, radical, or convergent novelty.\n    *   **Network Analysis:**  Analyze the citation network to see if papers with different types of novelty have different citation patterns (e.g., different citation rates, different types of citing papers, different network positions).\n    *   **Temporal Analysis:**  Track the spread of concepts over time, looking for differences in the spread patterns of concepts associated with different types of novelty.\n*   **Potential Insights:**  This could reveal whether incremental novelty spreads quickly and widely, while radical novelty takes longer to gain traction but can have a more transformative impact.\n\n**2.  To what extent does the *citation context* (how a highly cited paper is cited) mediate the spread of concepts?**\n\n*   **Rationale:**  It's not just *that* a paper is highly cited, but *how* it's cited that matters.  Is it cited for its core argument, a specific method, a critique, or a combination?  The citation context could influence whether the concept is adopted, adapted, or rejected.\n*   **Methodology:**\n    *   **Citation Context Analysis:**  Develop a method to analyze the text surrounding citations of highly cited papers.  This could involve using NLP techniques to identify the specific arguments or concepts being referenced.\n    *   **Network Analysis:**  Create a citation network where nodes are citations and edges represent the relationship between the cited paper and the citing paper.\n    *   **Correlation Analysis:**  Correlate the citation context with the subsequent spread of concepts in the network.  Do citations that highlight specific aspects of the paper lead to faster or more widespread concept adoption?\n*   **Potential Insights:**  This could reveal the importance of framing and interpretation in the spread of ideas.  It might also highlight the role of debates and critiques in shaping the evolution of concepts.\n\n**3.  Can we identify \"concept hubs\" within the citation network â€“ papers that act as particularly influential nodes in the spread of concepts from highly cited papers?**\n\n*   **Rationale:**  Some papers are more effective at disseminating concepts than others.  These \"concept hubs\" might be characterized by their broad citation patterns, their ability to synthesize information from multiple sources, or their engagement with diverse communities.\n*   **Methodology:**\n    *   **Centrality Measures:**  Apply various network centrality measures (e.g., betweenness centrality, eigenvector centrality, degree centrality) to the citation network.\n    *   **Hub Identification:**  Identify papers with high centrality scores as potential concept hubs.\n    *   **Case Studies:**  Conduct in-depth case studies of these concept hubs to understand how they contribute to the spread of concepts from highly cited papers.  Analyze their content, citation patterns, and engagement with other researchers.\n*   **Potential Insights:**  This could help us understand the mechanisms by which concepts spread through the citation network and identify strategies for promoting the dissemination of important ideas.  It could also reveal the role of specific communities or disciplines in shaping the spread of concepts.\n\n\n\nThese questions are designed to be relatively focused and address different aspects of your initial research.  They also offer opportunities to combine quantitative network analysis with qualitative case studies.  I hope this helps! Let me know if you'd like me to elaborate on any of these or suggest alternative directions.\n\n\n\n\n```\n:::\n:::\n\n\nTreat the model as a thought partner, not an oracle. It helps structure thinking but doesn't possess domain expertise. The suggestions reflect patterns in how research questions are framed, not deep knowledge of your field.\n\n## Failure Modes and Boundaries\n\nThe failure modes follow directly from the mechanism. LLMs fabricate plausibly because they optimize for fluency, not truth. Ask about a non-existent \"Smith et al. quantum paper\" and receive fluent academic prose describing results that never happened. Always verify citations. The model has seen thousands of papers cited in the format \"Smith et al. (2023) demonstrated that...\" and generates outputs matching that pattern even when the citation is fictional.\n\nContext limits are architectural. Models see only 2,000â€“8,000 tokens at once. Paste 100 abstracts and early ones are mathematically evicted from working memory. The model doesn't \"remember\" them; they're gone. Knowledge cutoffs are temporal. Gemma 3N's training ended early 2024. Ask about recent events and receive outdated information or plausible fabrications constructed from pre-cutoff patterns.\n\nReasoning is absent. LLMs pattern-match, they don't reason. Ask \"How many r's in 'Strawberry'?\" and the model might answer correctly via pattern matching against similar questions in training data, not by counting letters. Sometimes right. Often wrong. The model has no internal representation of what counting means.\n\nThese aren't bugs to be fixed. They're intrinsic to the architecture. Use LLMs to accelerate work, not replace judgment. They excel at summarizing text, extracting structure, reformulating concepts, brainstorming, generating synthetic examples, and translation. They fail at literature reviews without verification, factual claims without sources, statistical analysis, and ethical decisions. Harvest the center of the distribution where fluency and truth correlate. Defend against the tails where they diverge.\n\n## Next\n\nYou've seen LLMs in practiceâ€”setup, summarization, extraction, limitations. But how do they actually work? What happens inside when you send a prompt?\n\nThe rest of this module unboxes the technology: **prompt engineering** (communicating with LLMs), **embeddings** (representing meaning as numbers), **transformers** (the architecture enabling modern NLP), **fundamentals** (from word counts to neural representations).\n\nFirst, let's master talking to machines.\n\n",
    "supporting": [
      "llm-intro_files"
    ],
    "filters": [],
    "includes": {}
  }
}